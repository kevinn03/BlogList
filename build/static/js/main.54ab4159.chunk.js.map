{"version":3,"sources":["components/Blog.js","services/blogs.js","services/login.js","components/Notification.js","components/Togglable.js","components/CreateForm.js","components/LoginForm.js","App.js","index.js"],"names":["Blog","blog","useState","show","setShow","visible","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","title","author","onClick","url","likes","baseUrl","token","exportedObject","setToken","newToken","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","login","credentials","Notification","props","message","className","Togglable","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","buttonLabel","children","CreateForm","handleCreate","setTitle","setAuthor","setUrl","onSubmit","e","preventDefault","type","name","value","onChange","event","target","LoginForm","handleLogin","username","setUsername","password","setPassword","App","blogs","setBlogs","user","setUser","errorMessage","setErrorMessage","useEffect","blogService","loggedUserJson","window","localStorage","getItem","JSON","parse","handleNotification","msg","note","document","querySelector","classList","toggle","setTimeout","loginService","setItem","stringify","handleLogout","removeItem","console","log","newBlog","concat","error","map","id","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.54ab4159.chunk.js","sourcesContent":["import React, { useState } from 'react';\nconst Blog = ({ blog }) => {\n  const [show, setShow] = useState(false);\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5,\n  };\n  const visible = () => setShow(!show);\n  const showBlog = () => {\n    if (show === false) {\n      return (\n        <div>\n          {blog.title} {blog.author} <button onClick={visible}>view</button>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          {blog.title} {blog.author} <button onClick={visible}>hide</button>\n          <div>{blog.url}</div>\n          <div>\n            likes:{blog.likes} <button>like</button>\n          </div>\n          <div>{blog}</div>\n        </div>\n      );\n    }\n  };\n  return <div style={blogStyle}>{showBlog()}</div>;\n};\n\nexport default Blog;\n","import axios from 'axios';\nconst baseUrl = '/api/blogs';\n\nlet token = null;\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = async (newObject) => {\n  const config = { headers: { Authorization: token } };\n\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\nconst exportedObject = { setToken, getAll, create };\nexport default exportedObject;\n","import axios from 'axios';\nconst baseUrl = '/api/login';\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n};\n\nexport default { login };\n","import React from 'react';\n\nexport default function Notification(props) {\n  if (props.message === null) {\n    return null;\n  }\n  return <div className=\"hide note\">{props.message}</div>;\n}\n","import React, { useState } from 'react';\nconst Togglable = (props) => {\n  const [visible, setVisible] = useState(false);\n  const hideWhenVisible = { display: visible ? 'none' : '' };\n  const showWhenVisible = { display: visible ? '' : 'none' };\n  const toggleVisibility = () => {\n    setVisible(!visible);\n  };\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Togglable;\n","import React, { useState } from 'react';\n\nconst CreateForm = ({ handleCreate }) => {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [url, setUrl] = useState('');\n\n  const createBlog = (e) => {\n    e.preventDefault();\n    handleCreate(title, author, url);\n    setTitle('');\n    setAuthor('');\n    setUrl('');\n  };\n  return (\n    <div>\n      <h2>Create new</h2>\n      <form onSubmit={createBlog}>\n        <div>\n          Title:\n          <input\n            type=\"text\"\n            name=\"Title\"\n            value={title}\n            onChange={(event) => {\n              setTitle(event.target.value);\n            }}\n          ></input>\n        </div>\n        <div>\n          Author:\n          <input\n            type=\"text\"\n            name=\"Author\"\n            value={author}\n            onChange={(event) => {\n              setAuthor(event.target.value);\n            }}\n          ></input>\n        </div>\n        <div>\n          Url:\n          <input\n            type=\"text\"\n            name=\"Url\"\n            value={url}\n            onChange={(event) => {\n              setUrl(event.target.value);\n            }}\n          ></input>\n        </div>\n        <button type=\"submit\">Create </button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateForm;\n","import React, { useState } from 'react';\nconst LoginForm = ({ handleLogin }) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const loginUser = (e) => {\n    e.preventDefault();\n    handleLogin(username, password);\n    setUsername('');\n    setPassword('');\n  };\n  return (\n    <div>\n      <h2>log into application</h2>\n\n      <form onSubmit={loginUser}>\n        <div>\n          username\n          <input\n            type=\"texts\"\n            name=\"Usernmae\"\n            value={username}\n            onChange={(event) => {\n              setUsername(event.target.value);\n            }}\n          ></input>\n        </div>\n\n        <div>\n          password\n          <input\n            type=\"password\"\n            name=\"Password\"\n            value={password}\n            onChange={(event) => {\n              setPassword(event.target.value);\n            }}\n          ></input>\n        </div>\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState, useEffect } from 'react';\nimport Blog from './components/Blog';\nimport blogService from './services/blogs';\nimport loginService from './services/login';\nimport Notification from './components/Notification';\nimport Togglable from './components/Togglable';\nimport CreateForm from './components/CreateForm';\nimport LoginForm from './components/LoginForm';\nimport './index.css';\nconst App = () => {\n  const [blogs, setBlogs] = useState([]);\n\n  const [user, setUser] = useState(null);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    blogService.getAll().then((blogs) => setBlogs(blogs));\n  }, []);\n\n  useEffect(() => {\n    const loggedUserJson = window.localStorage.getItem('loggedBlogappUser');\n\n    if (loggedUserJson) {\n      const user = JSON.parse(loggedUserJson);\n      setUser(user);\n      blogService.setToken(user.token);\n    }\n  }, []);\n\n  const handleNotification = (msg, className) => {\n    setErrorMessage(msg);\n    const note = document.querySelector('.note');\n    note.classList.toggle('hide');\n    note.classList.toggle(className);\n\n    setTimeout(() => {\n      setErrorMessage(null);\n      note.classList.toggle('hide');\n      note.classList.toggle(className);\n    }, 5000);\n  };\n  const handleLogin = async (username, password) => {\n    try {\n      const user = await loginService.login({ username, password });\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user));\n      blogService.setToken(user.token);\n      setUser(user);\n\n      handleNotification(`${user.name} has successfully logged in`, 'success');\n    } catch (exception) {\n      handleNotification('Wrong username or password', 'fail');\n    }\n  };\n\n  const handleLogout = (event) => {\n    window.localStorage.removeItem('loggedBlogappUser');\n    setUser(null);\n    blogService.setToken(null);\n  };\n\n  const loginForm = () => {\n    return (\n      <div>\n        <Notification message={errorMessage} />\n        <LoginForm handleLogin={handleLogin} />\n      </div>\n    );\n  };\n\n  const handleCreate = async (title, author, url) => {\n    try {\n      const blog = { title, author, url, user };\n      console.log(user);\n      const newBlog = await blogService.create(blog);\n\n      setBlogs(blogs.concat(newBlog));\n      handleNotification(\n        `A new blog ${newBlog.title} by ${newBlog.author} added`,\n        'success'\n      );\n    } catch (exception) {\n      handleNotification(`${exception.response.data.error}`, 'fail');\n    }\n  };\n  const createBlogForm = () => {\n    return (\n      <div>\n        <Notification message={errorMessage} />\n        <h2>blogs</h2>\n\n        <p>\n          {`${user.name} logged in`}{' '}\n          <button onClick={handleLogout}>Logout</button>\n        </p>\n\n        <Togglable buttonLabel={'create new blog'}>\n          <CreateForm handleCreate={handleCreate} user={user}></CreateForm>\n        </Togglable>\n\n        {blogs.map((blog) => (\n          <Blog key={blog.id} blog={blog} />\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      {user === null ? <div>{loginForm()}</div> : <div>{createBlogForm()}</div>}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}